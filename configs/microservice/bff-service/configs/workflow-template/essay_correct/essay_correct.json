{"name":"essay_correct","desc":"K12 作文批改","schema":"{\"nodes\":[{\"id\":\"100001\",\"type\":\"1\",\"meta\":{\"position\":{\"x\":180,\"y\":27.349999999999994}},\"data\":{\"nodeMeta\":{\"title\":\"开始\",\"description\":\"工作流的起始节点，用于设定启动工作流需要的信息\",\"icon\":\"http://%E2%80%8B192.168.2.38:8081/api/static/icon/icon-Start-v2.jpg\"},\"outputs\":[{\"description\":\"用户输入\",\"type\":\"string\",\"name\":\"input\",\"required\":true}]}},{\"id\":\"900001\",\"type\":\"2\",\"meta\":{\"position\":{\"x\":1560,\"y\":14.349999999999994}},\"data\":{\"nodeMeta\":{\"title\":\"结束\",\"description\":\"工作流的最终节点，用于返回工作流运行后的结果信息\",\"icon\":\"http://%E2%80%8B192.168.2.38:8081/api/static/icon/icon-End-v2.jpg\"},\"inputs\":{\"inputParameters\":[{\"name\":\"output\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"104174\",\"name\":\"output\"},\"rawMeta\":{\"type\":1}}}}],\"terminatePlan\":\"returnVariables\"}}},{\"id\":\"104174\",\"type\":\"15\",\"meta\":{\"position\":{\"y\":12.999999999999993,\"x\":1100}},\"data\":{\"nodeMeta\":{\"title\":\"拼接报告\",\"description\":\"用于处理多个字符串类型变量的格式\",\"icon\":\"http://%E2%80%8B192.168.2.38:8081/api/static/icon/icon-StrConcat-v2.jpg\",\"subTitle\":\"文本处理\",\"mainColor\":\"#3071F2\"},\"outputs\":[{\"type\":\"string\",\"name\":\"output\",\"required\":true}],\"inputs\":{\"inputParameters\":[{\"name\":\"String1\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"100001\",\"name\":\"input\"},\"rawMeta\":{\"type\":1}}}},{\"name\":\"String2\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"blockID\":\"166689\",\"name\":\"output\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1}}}}],\"method\":\"concat\",\"concatParams\":[{\"name\":\"concatResult\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"作文原文：\\n{{String1}}\\n\\n老师点评：\\n{{String2}}\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"arrayItemConcatChar\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"，\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"allArrayItemConcatChars\",\"input\":{\"type\":\"list\",\"schema\":{\"type\":\"object\",\"schema\":[{\"type\":\"string\",\"name\":\"label\",\"required\":true},{\"type\":\"string\",\"name\":\"value\",\"required\":true},{\"type\":\"boolean\",\"name\":\"isDefault\",\"required\":true}]},\"value\":{\"type\":\"literal\",\"content\":[{\"label\":\"换行\",\"value\":\"\\n\",\"isDefault\":true},{\"label\":\"制表符\",\"value\":\"\\t\",\"isDefault\":true},{\"label\":\"句号\",\"value\":\"。\",\"isDefault\":true},{\"label\":\"逗号\",\"value\":\"，\",\"isDefault\":true},{\"label\":\"分号\",\"value\":\"；\",\"isDefault\":true},{\"value\":\" \",\"isDefault\":true,\"label\":\"空格\"}]}}}]}}},{\"id\":\"166689\",\"type\":\"3\",\"meta\":{\"position\":{\"x\":640,\"y\":0}},\"data\":{\"nodeMeta\":{\"title\":\"生成点评评分\",\"description\":\"调用大语言模型,使用变量和提示词生成回复\",\"icon\":\"http://%E2%80%8B192.168.2.38:8081/api/static/icon/icon-LLM-v2.png\",\"subTitle\":\"大模型\",\"mainColor\":\"#5C62FF\"},\"outputs\":[{\"name\":\"output\",\"type\":\"string\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"100001\",\"name\":\"input\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":180000},\"llmParam\":[{\"name\":\"generationDiversity\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"balance\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"temperature\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0.8\",\"rawMeta\":{\"type\":4}}}},{\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"1\",\"rawMeta\":{\"type\":4}}},\"name\":\"topP\"},{\"name\":\"frequencyPenalty\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"maxTokens\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":2}}}},{\"name\":\"responseFormat\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"2\",\"rawMeta\":{\"type\":2}}}},{\"name\":\"prompt\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"作文内容：\\n{{input}}\\n\\n请批改和点评以上作文\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"enableChatHistory\",\"input\":{\"type\":\"boolean\",\"value\":{\"content\":false,\"rawMeta\":{\"type\":3},\"type\":\"literal\"}}},{\"input\":{\"type\":\"integer\",\"value\":{\"content\":\"3\",\"rawMeta\":{\"type\":2},\"type\":\"literal\"}},\"name\":\"chatHistoryRound\"},{\"name\":\"systemPrompt\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"你是一个小学语文老师，擅长作文批改和点评\",\"rawMeta\":{\"type\":1}}}}]}}}],\"edges\":[{\"sourceNodeID\":\"100001\",\"targetNodeID\":\"166689\"},{\"sourceNodeID\":\"104174\",\"targetNodeID\":\"900001\"},{\"sourceNodeID\":\"166689\",\"targetNodeID\":\"104174\"}],\"versions\":{\"loop\":\"v2\"}}"}