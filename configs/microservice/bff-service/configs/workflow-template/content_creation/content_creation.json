{"name":"content_creation","desc":"多语言内容创作助手","schema":"{\"nodes\":[{\"id\":\"100001\",\"type\":\"1\",\"meta\":{\"position\":{\"y\":27,\"x\":180}},\"data\":{\"nodeMeta\":{\"title\":\"开始\",\"description\":\"工作流的起始节点，用于设定启动工作流需要的信息\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-Start-v2.jpg\"},\"outputs\":[{\"type\":\"string\",\"name\":\"input\",\"required\":true,\"description\":\"用户输入的创作主题\"}]}},{\"id\":\"900001\",\"type\":\"2\",\"meta\":{\"position\":{\"x\":2680,\"y\":14}},\"data\":{\"nodeMeta\":{\"title\":\"结束\",\"description\":\"工作流的最终节点，用于返回工作流运行后的结果信息\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-End-v2.jpg\"},\"inputs\":{\"inputParameters\":[{\"name\":\"output\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"110184\",\"name\":\"output\"},\"rawMeta\":{\"type\":1}}}}],\"terminatePlan\":\"returnVariables\"}}},{\"id\":\"162278\",\"type\":\"3\",\"meta\":{\"position\":{\"x\":640,\"y\":0}},\"data\":{\"nodeMeta\":{\"title\":\"生成大纲\",\"description\":\"调用大语言模型,使用变量和提示词生成回复\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-LLM-v2.png\",\"subTitle\":\"大模型\",\"mainColor\":\"#5C62FF\"},\"outputs\":[{\"type\":\"list\",\"name\":\"output\",\"schema\":{\"type\":\"string\"}}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"100001\",\"name\":\"input\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":180000},\"llmParam\":[{\"name\":\"generationDiversity\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"balance\",\"rawMeta\":{\"type\":1}},\"type\":\"string\"}},{\"name\":\"temperature\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0.8\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"topP\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"1\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"frequencyPenalty\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"maxTokens\",\"input\":{\"type\":\"integer\",\"value\":{\"rawMeta\":{\"type\":2},\"type\":\"literal\",\"content\":\"0\"}}},{\"name\":\"responseFormat\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"2\",\"rawMeta\":{\"type\":2}},\"type\":\"integer\"}},{\"name\":\"prompt\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"根据以下用户输入的创作主题：\\n{{input}}\\n给出创作大纲（不超过四个段落章节），并按照格式要求输出\",\"rawMeta\":{\"type\":1}},\"type\":\"string\"}},{\"name\":\"enableChatHistory\",\"input\":{\"type\":\"boolean\",\"value\":{\"type\":\"literal\",\"content\":false,\"rawMeta\":{\"type\":3}}}},{\"name\":\"chatHistoryRound\",\"input\":{\"type\":\"integer\",\"value\":{\"rawMeta\":{\"type\":2},\"type\":\"literal\",\"content\":\"3\"}}},{\"name\":\"systemPrompt\",\"input\":{\"type\":\"string\",\"value\":{\"rawMeta\":{\"type\":1},\"type\":\"literal\",\"content\":\"你是一个多语言文学创作大师，各种题材各种文体的创作都信手拈来\"}}}]}}},{\"id\":\"109184\",\"type\":\"5\",\"meta\":{\"position\":{\"x\":1100,\"y\":13}},\"data\":{\"nodeMeta\":{\"title\":\"拆分段落\",\"description\":\"编写代码，处理输入变量来生成返回值\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-Code-v2.jpg\",\"subTitle\":\"代码\",\"mainColor\":\"#00B2B2\"},\"outputs\":[{\"type\":\"string\",\"name\":\"key0\"},{\"name\":\"key1\",\"schema\":{\"type\":\"string\"},\"type\":\"list\"},{\"name\":\"key2\",\"schema\":[{\"type\":\"string\",\"name\":\"key21\"}],\"type\":\"object\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"blockID\":\"100001\",\"name\":\"input\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":60000},\"code\":\"# 在这里，您可以通过 'args'  获取节点中的输入变量，并通过 'ret' 输出结果\\n# 'args' 已经被正确地注入到环境中\\n# 下面是一个示例，首先获取节点的全部输入参数params，其次获取其中参数名为'input'的值：\\n# params = args.params; \\n# input = params['input'];\\n# 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\\n# ret: Output =  { \\\"name\\\": '小明', \\\"hobbies\\\": [\\\"看书\\\", \\\"旅游\\\"] };\\n\\nasync def main(args: Args) -\u003e Output:\\n    params = args.params\\n    # 构建输出对象\\n    ret: Output = {\\n        \\\"key0\\\": params['input'] + params['input'], # 拼接两次入参 input 的值\\n        \\\"key1\\\": [\\\"hello\\\", \\\"world\\\"],  # 输出一个数组\\n        \\\"key2\\\": { # 输出一个Object \\n            \\\"key21\\\": \\\"hi\\\"\\n        },\\n    }\\n    return ret\",\"language\":3}}},{\"id\":\"110184\",\"type\":\"21\",\"meta\":{\"position\":{\"x\":1890,\"y\":0},\"canvasPosition\":{\"x\":1480,\"y\":319.6}},\"data\":{\"nodeMeta\":{\"title\":\"循环处理\",\"description\":\"用于通过设定循环次数和逻辑，重复执行一系列任务\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-Loop-v2.jpg\",\"subTitle\":\"循环\",\"mainColor\":\"#00B2B2\"},\"outputs\":[{\"name\":\"output\",\"input\":{\"type\":\"string\",\"value\":{\"content\":{\"blockID\":\"110184\",\"name\":\"finalText\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1},\"type\":\"ref\"}}}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"list\",\"schema\":{\"type\":\"string\"},\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"162278\",\"name\":\"output\"},\"rawMeta\":{\"type\":99}}}}],\"loopType\":\"array\",\"loopCount\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"10\"}},\"variableParameters\":[{\"name\":\"finalText\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\" \",\"rawMeta\":{\"type\":1}}}}]}},\"blocks\":[{\"id\":\"186910\",\"type\":\"3\",\"meta\":{\"position\":{\"x\":180,\"y\":0}},\"data\":{\"nodeMeta\":{\"title\":\"细化段落\",\"description\":\"调用大语言模型,使用变量和提示词生成回复\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-LLM-v2.png\",\"subTitle\":\"大模型\",\"mainColor\":\"#5C62FF\"},\"outputs\":[{\"name\":\"output\",\"type\":\"string\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"blockID\":\"110184\",\"name\":\"input\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1}}}},{\"name\":\"finalText\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"blockID\":\"110184\",\"name\":\"finalText\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":180000},\"llmParam\":[{\"name\":\"generationDiversity\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"balance\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"temperature\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0.8\",\"rawMeta\":{\"type\":4}}}},{\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"1\",\"rawMeta\":{\"type\":4}}},\"name\":\"topP\"},{\"name\":\"frequencyPenalty\",\"input\":{\"type\":\"float\",\"value\":{\"rawMeta\":{\"type\":4},\"type\":\"literal\",\"content\":\"0\"}}},{\"name\":\"maxTokens\",\"input\":{\"type\":\"integer\",\"value\":{\"rawMeta\":{\"type\":2},\"type\":\"literal\",\"content\":\"0\"}}},{\"name\":\"responseFormat\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":2}}}},{\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"对以下大纲：\\n{{input}}\\n进行丰富的扩写，再将扩写内容与以下内容整合在一起：\\n{{finalText}}\",\"rawMeta\":{\"type\":1}}},\"name\":\"prompt\"},{\"name\":\"enableChatHistory\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":false,\"rawMeta\":{\"type\":3}},\"type\":\"boolean\"}},{\"name\":\"chatHistoryRound\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"3\",\"rawMeta\":{\"type\":2}}}},{\"name\":\"systemPrompt\",\"input\":{\"type\":\"string\",\"value\":{\"rawMeta\":{\"type\":1},\"type\":\"literal\",\"content\":\"你是一个多语言文学创作大师，各种题材各种文体的创作都信手拈来\"}}}]}}},{\"id\":\"120390\",\"type\":\"20\",\"meta\":{\"position\":{\"x\":640,\"y\":26}},\"data\":{\"nodeMeta\":{\"title\":\"设置变量\",\"description\":\"用于重置循环变量的值，使其下次循环使用重置后的值\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-LoopSetVariable-v2.jpg\",\"subTitle\":\"设置变量\",\"mainColor\":\"#00B2B2\"},\"inputs\":{\"inputParameters\":[{\"left\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"blockID\":\"110184\",\"name\":\"finalText\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1}}},\"right\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"186910\",\"name\":\"output\"},\"rawMeta\":{\"type\":1}}}}]}}}],\"edges\":[{\"sourceNodeID\":\"110184\",\"targetNodeID\":\"186910\",\"sourcePortID\":\"loop-function-inline-output\"},{\"sourceNodeID\":\"186910\",\"targetNodeID\":\"120390\"},{\"sourceNodeID\":\"120390\",\"targetNodeID\":\"110184\",\"targetPortID\":\"loop-function-inline-input\"}]}],\"edges\":[{\"sourceNodeID\":\"100001\",\"targetNodeID\":\"162278\"},{\"sourceNodeID\":\"110184\",\"targetNodeID\":\"900001\",\"sourcePortID\":\"loop-output\"},{\"sourceNodeID\":\"162278\",\"targetNodeID\":\"109184\"},{\"sourceNodeID\":\"109184\",\"targetNodeID\":\"110184\"}],\"versions\":{\"loop\":\"v2\"}}"}