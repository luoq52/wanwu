{"name":"data_report_gen","desc":"数据报告生成","schema":"{\"nodes\":[{\"id\":\"100001\",\"type\":\"1\",\"meta\":{\"position\":{\"x\":180,\"y\":27}},\"data\":{\"nodeMeta\":{\"title\":\"开始\",\"description\":\"工作流的起始节点，用于设定启动工作流需要的信息\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-Start-v2.jpg\"},\"outputs\":[{\"required\":true,\"type\":\"string\",\"assistType\":1,\"name\":\"inputFile\"}]}},{\"id\":\"900001\",\"type\":\"2\",\"meta\":{\"position\":{\"x\":2480,\"y\":14}},\"data\":{\"nodeMeta\":{\"title\":\"结束\",\"description\":\"工作流的最终节点，用于返回工作流运行后的结果信息\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-End-v2.jpg\"},\"inputs\":{\"inputParameters\":[{\"name\":\"output\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"164693\",\"name\":\"fileUrl\"},\"rawMeta\":{\"type\":1}}}}],\"terminatePlan\":\"returnVariables\"}}},{\"id\":\"194138\",\"type\":\"1008\",\"meta\":{\"position\":{\"x\":640,\"y\":13}},\"data\":{\"nodeMeta\":{\"title\":\"文档解析\",\"description\":\"输入txt、pdf、docx、xlsx、csv、pptx等格式文档的URL，可以解析提取出文档的文本内容\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-KnowledgeQuery-v2.jpg\",\"subTitle\":\"文档解析\",\"mainColor\":\"#FF811A\"},\"outputs\":[{\"type\":\"string\",\"name\":\"text\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"FileUrl\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"100001\",\"name\":\"inputFile\"},\"rawMeta\":{\"type\":1}}}}]}}},{\"id\":\"199007\",\"type\":\"5\",\"meta\":{\"position\":{\"y\":13,\"x\":1100}},\"data\":{\"nodeMeta\":{\"title\":\"数据处理\",\"description\":\"编写代码，处理输入变量来生成返回值\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-Code-v2.jpg\",\"subTitle\":\"代码\",\"mainColor\":\"#00B2B2\"},\"outputs\":[{\"type\":\"integer\",\"name\":\"textLen\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"194138\",\"name\":\"text\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":60000},\"code\":\"# 在这里，您可以通过 'args'  获取节点中的输入变量，并通过 'ret' 输出结果\\n# 'args' 已经被正确地注入到环境中\\n# 下面是一个示例，首先获取节点的全部输入参数params，其次获取其中参数名为'input'的值：\\n# params = args.params; \\n# input = params['input'];\\n# 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\\n# ret: Output =  { \\\"name\\\": '小明', \\\"hobbies\\\": [\\\"看书\\\", \\\"旅游\\\"] };\\n\\nasync def main(args: Args) -\u003e Output:\\n    params = args.params\\n    ret: Output = {\\n        \\\"textLen\\\": len(params['input'])\\n    }\\n    return ret\",\"language\":3}}},{\"id\":\"158263\",\"type\":\"3\",\"meta\":{\"position\":{\"y\":0,\"x\":1560}},\"data\":{\"nodeMeta\":{\"title\":\"分析生成\",\"description\":\"调用大语言模型,使用变量和提示词生成回复\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-LLM-v2.png\",\"subTitle\":\"大模型\",\"mainColor\":\"#5C62FF\"},\"outputs\":[{\"type\":\"string\",\"name\":\"output\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"textLen\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"199007\",\"name\":\"textLen\"},\"rawMeta\":{\"type\":2}}}},{\"name\":\"text\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"blockID\":\"194138\",\"name\":\"text\",\"source\":\"block-output\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":180000},\"llmParam\":[{\"name\":\"generationDiversity\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"balance\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"temperature\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0.8\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"topP\",\"input\":{\"type\":\"float\",\"value\":{\"rawMeta\":{\"type\":4},\"type\":\"literal\",\"content\":\"1\"}}},{\"name\":\"frequencyPenalty\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"maxTokens\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":2}}}},{\"name\":\"responseFormat\",\"input\":{\"type\":\"integer\",\"value\":{\"content\":\"2\",\"rawMeta\":{\"type\":2},\"type\":\"literal\"}}},{\"name\":\"prompt\",\"input\":{\"type\":\"string\",\"value\":{\"rawMeta\":{\"type\":1},\"type\":\"literal\",\"content\":\"文件内容：{{text}}\\n文件长度：{{textLen}}\\n根据以上文件信息，生成文件数据分析报告\\n\"}}},{\"name\":\"enableChatHistory\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":false,\"rawMeta\":{\"type\":3}},\"type\":\"boolean\"}},{\"name\":\"chatHistoryRound\",\"input\":{\"type\":\"integer\",\"value\":{\"rawMeta\":{\"type\":2},\"type\":\"literal\",\"content\":\"3\"}}},{\"name\":\"systemPrompt\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"你是一个智能助手，擅长根据已知信息回复用户\",\"rawMeta\":{\"type\":1}}}}]}}},{\"id\":\"164693\",\"type\":\"1007\",\"meta\":{\"position\":{\"x\":2020,\"y\":13}},\"data\":{\"nodeMeta\":{\"title\":\"生成文档\",\"description\":\"输入文档的内容、格式和文件名，可以生成文档下载链接\",\"icon\":\"http://%E2%80%8B%E2%80%8B192.168.0.1:8081/api/static/icon/icon-KnowledgeQuery-v2.jpg\",\"subTitle\":\"文档生成\",\"mainColor\":\"#FF811A\"},\"outputs\":[{\"name\":\"fileUrl\",\"type\":\"string\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"Title\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"数据分析报告\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"Content\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"158263\",\"name\":\"output\"},\"rawMeta\":{\"type\":1}}}},{\"name\":\"fileType\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"txt\"}}}]}}}],\"edges\":[{\"sourceNodeID\":\"100001\",\"targetNodeID\":\"194138\"},{\"sourceNodeID\":\"164693\",\"targetNodeID\":\"900001\"},{\"sourceNodeID\":\"194138\",\"targetNodeID\":\"199007\"},{\"sourceNodeID\":\"199007\",\"targetNodeID\":\"158263\"},{\"sourceNodeID\":\"158263\",\"targetNodeID\":\"164693\"}],\"versions\":{\"loop\":\"v2\"}}"}