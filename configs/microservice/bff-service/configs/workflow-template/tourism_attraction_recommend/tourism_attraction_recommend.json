{"name":"tourism_attraction_recommend","desc":"文旅景点推荐引擎","schema":"{\"nodes\":[{\"id\":\"100001\",\"type\":\"1\",\"meta\":{\"position\":{\"x\":180,\"y\":140.3}},\"data\":{\"nodeMeta\":{\"title\":\"开始\",\"description\":\"工作流的起始节点，用于设定启动工作流需要的信息\",\"icon\":\"http://localhost:8081/api/static/icon/icon-Start-v2.jpg\"},\"outputs\":[{\"type\":\"string\",\"name\":\"input\",\"required\":true,\"description\":\"用户输入\"}]}},{\"id\":\"900001\",\"type\":\"2\",\"meta\":{\"position\":{\"x\":2020,\"y\":127.30000000000003}},\"data\":{\"nodeMeta\":{\"title\":\"结束\",\"description\":\"工作流的最终节点，用于返回工作流运行后的结果信息\",\"icon\":\"http://localhost:8081/api/static/icon/icon-End-v2.jpg\"},\"inputs\":{\"inputParameters\":[{\"name\":\"output\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"117319\",\"name\":\"output\"},\"rawMeta\":{\"type\":1}}}}],\"terminatePlan\":\"returnVariables\"}}},{\"id\":\"115653\",\"type\":\"1006\",\"meta\":{\"position\":{\"x\":1100,\"y\":0}},\"data\":{\"nodeMeta\":{\"title\":\"检索景点信息\",\"description\":\"在选定的知识中,根据输入变量召回最匹配的信息,并以列表形式返回\",\"icon\":\"http://localhost:8081/api/static/icon/icon-KnowledgeQuery-v2.jpg\",\"subTitle\":\"知识库检索\",\"mainColor\":\"#FF811A\"},\"outputs\":[{\"schema\":[{\"type\":\"string\",\"name\":\"prompt\"},{\"type\":\"list\",\"name\":\"score\",\"schema\":{\"type\":\"float\"}},{\"type\":\"list\",\"name\":\"searchList\",\"schema\":{\"type\":\"object\",\"schema\":[]}}],\"type\":\"object\",\"name\":\"output\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"Query\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"111424\",\"name\":\"output.place\"},\"rawMeta\":{\"type\":1}}}}],\"datasetParam\":[{\"name\":\"knowledgeList\",\"input\":{\"type\":\"list\",\"schema\":{\"type\":\"string\"},\"value\":{\"type\":\"literal\",\"content\":[]}}},{\"name\":\"topK\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":5}}},{\"name\":\"rerankKeywordPrioritySwitch\",\"input\":{\"type\":\"boolean\",\"value\":{\"type\":\"literal\",\"content\":false,\"rawMeta\":{\"type\":3}}}},{\"name\":\"rewrite\",\"input\":{\"type\":\"boolean\",\"value\":{\"type\":\"literal\",\"content\":true,\"rawMeta\":{\"type\":3}}}},{\"name\":\"threshold\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":0.4}}},{\"name\":\"semanticsPriority\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":0.2}}},{\"name\":\"maxHistory\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":0}}},{\"name\":\"rerankKeywordPriority\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":1}}},{\"name\":\"matchType\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"vector\"}}},{\"name\":\"rerankModelId\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"3\"}}}],\"strategyParam\":{\"parsingStrategy\":{\"imageExtraction\":false,\"tableExtraction\":false,\"imageOcr\":false},\"chunkStrategy\":{},\"indexStrategy\":null}}}},{\"id\":\"117319\",\"type\":\"3\",\"meta\":{\"position\":{\"x\":1560,\"y\":113.30000000000003}},\"data\":{\"nodeMeta\":{\"title\":\"生成推荐理由\",\"description\":\"调用大语言模型,使用变量和提示词生成回复\",\"icon\":\"http://localhost:8081/api/static/icon/icon-LLM-v2.png\",\"subTitle\":\"大模型\",\"mainColor\":\"#5C62FF\"},\"outputs\":[{\"type\":\"string\",\"name\":\"output\"}],\"inputs\":{\"inputParameters\":[{\"name\":\"searchList\",\"input\":{\"type\":\"list\",\"schema\":{\"schema\":[],\"type\":\"object\"},\"value\":{\"type\":\"ref\",\"content\":{\"name\":\"output.searchList\",\"source\":\"block-output\",\"blockID\":\"115653\"},\"rawMeta\":{\"type\":103}}}},{\"name\":\"content\",\"input\":{\"type\":\"list\",\"schema\":{\"schema\":[],\"type\":\"object\"},\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"189257\",\"name\":\"result.content\"},\"rawMeta\":{\"type\":103}}}},{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"100001\",\"name\":\"input\"},\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":180000},\"llmParam\":[{\"name\":\"generationDiversity\",\"input\":{\"type\":\"string\",\"value\":{\"rawMeta\":{\"type\":1},\"type\":\"literal\",\"content\":\"balance\"}}},{\"name\":\"temperature\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0.8\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"topP\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"1\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"frequencyPenalty\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"maxTokens\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":2}}}},{\"name\":\"responseFormat\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"2\",\"rawMeta\":{\"type\":2}},\"type\":\"integer\"}},{\"name\":\"prompt\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"根据以下知识库搜索结果:\\n{{searchList}}\\n和mcp工具返回的结果:\\n{{content}}\\n回答用户问题：{{input}}\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"enableChatHistory\",\"input\":{\"type\":\"boolean\",\"value\":{\"type\":\"literal\",\"content\":false,\"rawMeta\":{\"type\":3}}}},{\"name\":\"chatHistoryRound\",\"input\":{\"type\":\"integer\",\"value\":{\"rawMeta\":{\"type\":2},\"type\":\"literal\",\"content\":\"3\"}}},{\"name\":\"systemPrompt\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"你是一个智能助手，善于根据已知信息总结回答用户问题\",\"rawMeta\":{\"type\":1}}}}]}}},{\"id\":\"111424\",\"type\":\"3\",\"meta\":{\"position\":{\"x\":640,\"y\":113.30000000000003}},\"data\":{\"nodeMeta\":{\"title\":\"提取需求参数\",\"description\":\"调用大语言模型,使用变量和提示词生成回复\",\"icon\":\"http://localhost:8081/api/static/icon/icon-LLM-v2.png\",\"subTitle\":\"大模型\",\"mainColor\":\"#5C62FF\"},\"outputs\":[{\"type\":\"object\",\"name\":\"output\",\"schema\":[{\"type\":\"string\",\"name\":\"city\",\"description\":\"城市名字，如：北京、成都\"},{\"type\":\"string\",\"name\":\"place\",\"description\":\"景区景点名称，如长城、故宫\"}]}],\"inputs\":{\"inputParameters\":[{\"name\":\"input\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"西安市钟楼\",\"rawMeta\":{\"type\":1}}}}],\"settingOnError\":{\"processType\":1,\"timeoutMs\":180000},\"llmParam\":[{\"name\":\"generationDiversity\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"balance\",\"rawMeta\":{\"type\":1}},\"type\":\"string\"}},{\"name\":\"temperature\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"0.8\",\"rawMeta\":{\"type\":4}},\"type\":\"float\"}},{\"name\":\"topP\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"1\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"frequencyPenalty\",\"input\":{\"type\":\"float\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":4}}}},{\"name\":\"maxTokens\",\"input\":{\"type\":\"integer\",\"value\":{\"type\":\"literal\",\"content\":\"0\",\"rawMeta\":{\"type\":2}}}},{\"name\":\"responseFormat\",\"input\":{\"type\":\"integer\",\"value\":{\"rawMeta\":{\"type\":2},\"type\":\"literal\",\"content\":\"2\"}}},{\"name\":\"prompt\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"literal\",\"content\":\"从以下内容中提取信息：\\n{{input}}\\n并按照要求输出\",\"rawMeta\":{\"type\":1}}}},{\"name\":\"enableChatHistory\",\"input\":{\"type\":\"boolean\",\"value\":{\"type\":\"literal\",\"content\":false,\"rawMeta\":{\"type\":3}}}},{\"name\":\"chatHistoryRound\",\"input\":{\"value\":{\"type\":\"literal\",\"content\":\"3\",\"rawMeta\":{\"type\":2}},\"type\":\"integer\"}},{\"name\":\"systemPrompt\",\"input\":{\"type\":\"string\",\"value\":{\"rawMeta\":{\"type\":1},\"type\":\"literal\",\"content\":\"你的任务是参数提取，提取用户prompt中的信息，输出一个json结构数据\"}}}]}}},{\"id\":\"189257\",\"type\":\"1009\",\"meta\":{\"position\":{\"x\":1100,\"y\":239.60000000000002}},\"data\":{\"nodeMeta\":{\"title\":\"获取实时天气\",\"description\":\"用于调用MCP服务的工具\",\"icon\":\"http://localhost:8081/api/static/icon/icon-MCP-v2.png\",\"subTitle\":\"MCP工具\",\"mainColor\":\"#FF811A\"},\"outputs\":[{\"type\":\"object\",\"name\":\"result\",\"schema\":[{\"type\":\"list\",\"name\":\"content\",\"schema\":{\"type\":\"object\",\"schema\":[]}}]}],\"inputs\":{\"inputParameters\":[{\"name\":\"city\",\"input\":{\"type\":\"string\",\"value\":{\"type\":\"ref\",\"content\":{\"source\":\"block-output\",\"blockID\":\"111424\",\"name\":\"output.city\"},\"rawMeta\":{\"type\":1}}}}],\"mcpInfoList\":[]}}}],\"edges\":[{\"sourceNodeID\":\"100001\",\"targetNodeID\":\"111424\"},{\"sourceNodeID\":\"117319\",\"targetNodeID\":\"900001\"},{\"sourceNodeID\":\"111424\",\"targetNodeID\":\"115653\"},{\"sourceNodeID\":\"115653\",\"targetNodeID\":\"117319\"},{\"sourceNodeID\":\"189257\",\"targetNodeID\":\"117319\"},{\"sourceNodeID\":\"111424\",\"targetNodeID\":\"189257\"}],\"versions\":{\"loop\":\"v2\"}}"}